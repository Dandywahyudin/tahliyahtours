import{j as e}from"./motion-DexQD9Y-.js";import{A as m}from"./AuthenticatedLayout-DTYEkeyY.js";import{u as h,H as p}from"./inertia-sLJ-bcsw.js";import"./vendor-Car7GadR.js";import"./ApplicationLogo-DmP3AFl4.js";import"./transition-B28vDh99.js";function v({artikel:s}){const{data:l,setData:n,post:c,processing:d,errors:a}=h({_method:"put",title:s.title||"",slug:s.slug||"",excerpt:s.excerpt||"",content:s.content||"",category:s.category||"",thumbnail:null,status:s.status||"draft",published_at:s.published_at?s.published_at.split("T")[0]+"T"+s.published_at.split("T")[1].split(".")[0]:"",meta_title:s.meta_title||"",meta_description:s.meta_description||""});function r(t){return t.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-")}function u(t){const i=t.target.value;n("title",i),(!l.slug||l.slug===r(s.title))&&n("slug",r(i))}function x(t){t.preventDefault();const i=new FormData;Object.keys(l).forEach(o=>{l[o]!==null&&l[o]!==""&&i.append(o,l[o])}),c(route("artikels.update",s.slug),{data:i,forceFormData:!0})}return e.jsxs(m,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Edit Artikel"}),children:[e.jsx(p,{title:"Edit Artikel"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 bg-white border-b border-gray-200",children:e.jsxs("form",{onSubmit:x,children:[a.message&&e.jsx("div",{className:"mb-4 text-red-600 bg-red-100 p-3 rounded",children:a.message}),s.thumbnail&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",children:"Thumbnail Saat Ini"}),e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:`/storage/${s.thumbnail}`,alt:"Current thumbnail",className:"w-32 h-32 object-cover rounded-lg"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Judul"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"title",type:"text",value:l.title,onChange:u}),a.title&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"slug",children:"Slug"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"slug",type:"text",value:l.slug,onChange:t=>n("slug",t.target.value)}),a.slug&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.slug})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"excerpt",children:"Excerpt"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"excerpt",type:"text",value:l.excerpt,onChange:t=>n("excerpt",t.target.value)}),a.excerpt&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.excerpt})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"content",children:"Konten"}),e.jsx("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"content",rows:"10",value:l.content,onChange:t=>n("content",t.target.value)}),a.content&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.content})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"Kategori"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"category",type:"text",value:l.category,onChange:t=>n("category",t.target.value)}),a.category&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.category})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"thumbnail",children:"Thumbnail Baru (Opsional)"}),e.jsx("input",{id:"thumbnail",type:"file",accept:"image/*",onChange:t=>n("thumbnail",t.target.files[0]),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),e.jsx("small",{className:"text-gray-500",children:"Kosongkan jika tidak ingin mengganti thumbnail"}),a.thumbnail&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.thumbnail})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"status",children:"Status"}),e.jsxs("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"status",value:l.status,onChange:t=>n("status",t.target.value),children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"})]}),a.status&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.status})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"published_at",children:"Tanggal Publish"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"published_at",type:"datetime-local",value:l.published_at,onChange:t=>n("published_at",t.target.value)}),a.published_at&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.published_at})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"meta_title",children:"Meta Title"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"meta_title",type:"text",value:l.meta_title,onChange:t=>n("meta_title",t.target.value)}),a.meta_title&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.meta_title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:"meta_description",children:"Meta Description"}),e.jsx("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"meta_description",rows:"3",value:l.meta_description,onChange:t=>n("meta_description",t.target.value)}),a.meta_description&&e.jsx("div",{className:"text-red-500 text-xs italic",children:a.meta_description})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",disabled:d,children:d?"Menyimpan...":"Update Artikel"}),e.jsx("a",{href:route("artikels.index"),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Batal"})]})]})})})})})]})}export{v as default};
