import{r as t,j as i}from"./react-vendor-Bi772X0H.js";import{i as s,e as n,t as o,f as e,h as r,n as h,j as a,p as c,m as u,k as l,K as f,o as d,q as m,r as p,u as g,v as y,w as v,x,y as w,S,z as P,D as C,A as T,B as b,C as A,M,E,F as L,G as V,J as R,H as k,I as B,L as $,N as D,O as F,P as I,Q as j,R as O,T as U,U as X,V as H,W as Y,X as N,Y as W,Z as z,_ as G,$ as Z,a0 as q,a1 as _}from"./vendor-XR3U9uIU.js";const K=t.createContext({});function J(i){const s=t.useRef(null);return null===s.current&&(s.current=i()),s.current}const Q="undefined"!=typeof window,tt=Q?t.useLayoutEffect:t.useEffect,it=t.createContext(null),st=t.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class nt extends t.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const t=i.offsetParent,n=s(t)&&t.offsetWidth||0,o=this.props.sizeRef.current;o.height=i.offsetHeight||0,o.width=i.offsetWidth||0,o.top=i.offsetTop,o.left=i.offsetLeft,o.right=n-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ot({children:s,isPresent:n,anchorX:o,root:e}){const r=t.useId(),h=t.useRef(null),a=t.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=t.useContext(st);return t.useInsertionEffect(()=>{const{width:t,height:i,top:s,left:u,right:l}=a.current;if(n||!h.current||!t||!i)return;const f="left"===o?`left: ${u}`:`right: ${l}`;h.current.dataset.motionPopId=r;const d=document.createElement("style");c&&(d.nonce=c);const m=e??document.head;return m.appendChild(d),d.sheet&&d.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${i}px !important;\n            ${f}px !important;\n            top: ${s}px !important;\n          }\n        `),()=>{m.contains(d)&&m.removeChild(d)}},[n]),i.jsx(nt,{isPresent:n,childRef:h,sizeRef:a,children:t.cloneElement(s,{ref:h})})}const et=({children:s,initial:n,isPresent:o,onExitComplete:e,custom:r,presenceAffectsLayout:h,mode:a,anchorX:c,root:u})=>{const l=J(rt),f=t.useId();let d=!0,m=t.useMemo(()=>(d=!1,{id:f,initial:n,isPresent:o,custom:r,onExitComplete:t=>{l.set(t,!0);for(const i of l.values())if(!i)return;e&&e()},register:t=>(l.set(t,!1),()=>l.delete(t))}),[o,l,e]);return h&&d&&(m={...m}),t.useMemo(()=>{l.forEach((t,i)=>l.set(i,!1))},[o]),t.useEffect(()=>{!o&&!l.size&&e&&e()},[o]),"popLayout"===a&&(s=i.jsx(ot,{isPresent:o,anchorX:c,root:u,children:s})),i.jsx(it.Provider,{value:m,children:s})};function rt(){return new Map}function ht(i=!0){const s=t.useContext(it);if(null===s)return[!0,null];const{isPresent:n,onExitComplete:o,register:e}=s,r=t.useId();t.useEffect(()=>{if(i)return e(r)},[i]);const h=t.useCallback(()=>i&&o&&o(r),[r,o,i]);return!n&&o?[!1,h]:[!0]}const at=t=>t.key||"";function ct(i){const s=[];return t.Children.forEach(i,i=>{t.isValidElement(i)&&s.push(i)}),s}const ut=({children:s,custom:n,initial:o=!0,onExitComplete:e,presenceAffectsLayout:r=!0,mode:h="sync",propagate:a=!1,anchorX:c="left",root:u})=>{const[l,f]=ht(a),d=t.useMemo(()=>ct(s),[s]),m=a&&!l?[]:d.map(at),p=t.useRef(!0),g=t.useRef(d),y=J(()=>new Map),[v,x]=t.useState(d),[w,S]=t.useState(d);tt(()=>{p.current=!1,g.current=d;for(let t=0;t<w.length;t++){const i=at(w[t]);m.includes(i)?y.delete(i):!0!==y.get(i)&&y.set(i,!1)}},[w,m.length,m.join("-")]);const P=[];if(d!==v){let t=[...d];for(let i=0;i<w.length;i++){const s=w[i],n=at(s);m.includes(n)||(t.splice(i,0,s),P.push(s))}return"wait"===h&&P.length&&(t=P),S(ct(t)),x(d),null}const{forceRender:C}=t.useContext(K);return i.jsx(i.Fragment,{children:w.map(t=>{const s=at(t),v=!(a&&!l)&&(d===w||m.includes(s));return i.jsx(et,{isPresent:v,initial:!(p.current&&!o)&&void 0,custom:n,presenceAffectsLayout:r,mode:h,root:u,onExitComplete:v?void 0:()=>{if(!y.has(s))return;y.set(s,!0);let t=!0;y.forEach(i=>{i||(t=!1)}),t&&(C?.(),S(g.current),a&&f?.(),e&&e())},anchorX:c,children:t},s)})})},lt=t.createContext({strict:!1}),ft={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dt={};for(const so in ft)dt[so]={isEnabled:t=>ft[so].some(i=>!!t[i])};const mt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pt(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mt.has(t)}let gt=t=>!pt(t);try{"function"==typeof(yt=require("@emotion/is-prop-valid").default)&&(gt=t=>t.startsWith("on")?!pt(t):yt(t))}catch{}var yt;const vt=t.createContext({});function xt(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}function wt(t){return"string"==typeof t||Array.isArray(t)}const St=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pt=["initial",...St];function Ct(t){return xt(t.animate)||Pt.some(i=>wt(t[i]))}function Tt(t){return Boolean(Ct(t)||t.variants)}function bt(t){return Array.isArray(t)?t.join(" "):t}const At={};function Mt(t,{layout:i,layoutId:s}){return o.has(t)||t.startsWith("origin")||(i||void 0!==s)&&(!!At[t]||"opacity"===t)}const Et={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lt=e.length;function Vt(t,i,s){const{style:a,vars:c,transformOrigin:u}=t;let l=!1,f=!1;for(const e in i){const t=i[e];if(o.has(e))l=!0;else if(n(e))c[e]=t;else{const i=r(t,h[e]);e.startsWith("origin")?(f=!0,u[e]=i):a[e]=i}}if(i.transform||(l||s?a.transform=function(t,i,s){let n="",o=!0;for(let a=0;a<Lt;a++){const c=e[a],u=t[c];if(void 0===u)continue;let l=!0;if(l="number"==typeof u?u===(c.startsWith("scale")?1:0):0===parseFloat(u),!l||s){const t=r(u,h[c]);l||(o=!1,n+=`${Et[c]||c}(${t}) `),s&&(i[c]=t)}}return n=n.trim(),s?n=s(i,o?"":n):o&&(n="none"),n}(i,t.transform,s):a.transform&&(a.transform="none")),f){const{originX:t="50%",originY:i="50%",originZ:s=0}=u;a.transformOrigin=`${t} ${i} ${s}`}}function Rt(t,i,s){for(const n in i)a(i[n])||Mt(n,s)||(t[n]=i[n])}function kt(i,s){const n={},o=function(i,s){const n={};return Rt(n,i.style||{},i),Object.assign(n,function({transformTemplate:i},s){return t.useMemo(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{}};return Vt(t,s,i),Object.assign({},t.vars,t.style)},[s])}(i,s)),n}(i,s);return i.drag&&!1!==i.dragListener&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===i.drag?"none":"pan-"+("x"===i.drag?"y":"x")),void 0===i.tabIndex&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=o,n}const Bt={offset:"stroke-dashoffset",array:"stroke-dasharray"},$t={offset:"strokeDashoffset",array:"strokeDasharray"};function Dt(t,{attrX:i,attrY:s,attrScale:n,pathLength:o,pathSpacing:e=1,pathOffset:r=0,...h},a,u,l){if(Vt(t,h,u),a)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=l?.transformBox??"fill-box",delete f.transformBox),void 0!==i&&(f.x=i),void 0!==s&&(f.y=s),void 0!==n&&(f.scale=n),void 0!==o&&function(t,i,s=1,n=0,o=!0){t.pathLength=1;const e=o?Bt:$t;t[e.offset]=c.transform(-n);const r=c.transform(i),h=c.transform(s);t[e.array]=`${r} ${h}`}(f,o,e,r,!1)}const Ft=t=>"string"==typeof t&&"svg"===t.toLowerCase();function It(i,s,n,o){const e=t.useMemo(()=>{const t={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Dt(t,s,Ft(o),i.transformTemplate,i.style),{...t.attrs,style:{...t.style}}},[s]);if(i.style){const t={};Rt(t,i.style,i),e.style={...t,...e.style}}return e}const jt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ot(t){return"string"==typeof t&&!t.includes("-")&&!!(jt.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ut(i,s,n,{latestValues:o},e,r=!1){const h=(Ot(i)?It:kt)(s,o,e,i),c=function(t,i,s){const n={};for(const o in t)"values"===o&&"object"==typeof t.values||(gt(o)||!0===s&&pt(o)||!i&&!pt(o)||t.draggable&&o.startsWith("onDrag"))&&(n[o]=t[o]);return n}(s,"string"==typeof i,r),u=i!==t.Fragment?{...c,...h,ref:n}:{},{children:l}=s,f=t.useMemo(()=>a(l)?l.get():l,[l]);return t.createElement(i,{...u,children:f})}function Xt(t){const i=[{},{}];return t?.values.forEach((t,s)=>{i[0][s]=t.get(),i[1][s]=t.getVelocity()}),i}function Ht(t,i,s,n){if("function"==typeof i){const[o,e]=Xt(n);i=i(void 0!==s?s:t.custom,o,e)}if("string"==typeof i&&(i=t.variants&&t.variants[i]),"function"==typeof i){const[o,e]=Xt(n);i=i(void 0!==s?s:t.custom,o,e)}return i}function Yt(t){return a(t)?t.get():t}function Nt(t,i,s,n){const o={},e=n(t,{});for(const f in e)o[f]=Yt(e[f]);let{initial:r,animate:h}=t;const a=Ct(t),c=Tt(t);i&&c&&!a&&!1!==t.inherit&&(void 0===r&&(r=i.initial),void 0===h&&(h=i.animate));let u=!!s&&!1===s.initial;u=u||!1===r;const l=u?h:r;if(l&&"boolean"!=typeof l&&!xt(l)){const i=Array.isArray(l)?l:[l];for(let s=0;s<i.length;s++){const n=Ht(t,i[s]);if(n){const{transitionEnd:t,transition:i,...s}=n;for(const n in s){let t=s[n];Array.isArray(t)&&(t=t[u?t.length-1:0]),null!==t&&(o[n]=t)}for(const n in t)o[n]=t[n]}}}return o}const Wt=i=>(s,n)=>{const o=t.useContext(vt),e=t.useContext(it),r=()=>function({scrapeMotionValuesFromProps:t,createRenderState:i},s,n,o){return{latestValues:Nt(s,n,o,t),renderState:i()}}(i,s,o,e);return n?r():J(r)};function zt(t,i,s){const{style:n}=t,o={};for(const e in n)(a(n[e])||i.style&&a(i.style[e])||Mt(e,t)||void 0!==s?.getValue(e)?.liveStyle)&&(o[e]=n[e]);return o}const Gt=Wt({scrapeMotionValuesFromProps:zt,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{}})});function Zt(t,i,s){const n=zt(t,i,s);for(const o in t)(a(t[o])||a(i[o]))&&(n[-1!==e.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=t[o]);return n}const qt=Wt({scrapeMotionValuesFromProps:Zt,createRenderState:()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}})}),_t=Symbol.for("motionComponentSymbol");function Kt(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function Jt(i,s,n){return t.useCallback(t=>{t&&i.onMount&&i.onMount(t),s&&(t?s.mount(t):s.unmount()),n&&("function"==typeof n?n(t):Kt(n)&&(n.current=t))},[s])}const Qt=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ti="data-"+Qt("framerAppearId"),ii=t.createContext({});function si(i,s,n,o,e){const{visualElement:r}=t.useContext(vt),h=t.useContext(lt),a=t.useContext(it),c=t.useContext(st).reducedMotion,u=t.useRef(null);o=o||h.renderer,!u.current&&o&&(u.current=o(i,{visualState:s,parent:r,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:c}));const l=u.current,f=t.useContext(ii);!l||l.projection||!e||"html"!==l.type&&"svg"!==l.type||function(t,i,s,n){const{layoutId:o,layout:e,drag:r,dragConstraints:h,layoutScroll:a,layoutRoot:c,layoutCrossfade:u}=i;t.projection=new s(t.latestValues,i["data-framer-portal-id"]?void 0:ni(t.parent)),t.projection.setOptions({layoutId:o,layout:e,alwaysMeasureLayout:Boolean(r)||h&&Kt(h),visualElement:t,animationType:"string"==typeof e?e:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:a,layoutRoot:c})}(u.current,n,e,f);const d=t.useRef(!1);t.useInsertionEffect(()=>{l&&d.current&&l.update(n,a)});const m=n[ti],p=t.useRef(Boolean(m)&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return tt(()=>{l&&(d.current=!0,window.MotionIsMounted=!0,l.updateFeatures(),l.scheduleRenderMicrotask(),p.current&&l.animationState&&l.animationState.animateChanges())}),t.useEffect(()=>{l&&(!p.current&&l.animationState&&l.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),p.current=!1),l.enteringChildren=void 0)}),l}function ni(t){if(t)return!1!==t.options.allowProjection?t.projection:ni(t.parent)}function oi(s,{forwardMotionProps:n=!1}={},o,e){o&&function(t){for(const i in t)dt[i]={...dt[i],...t[i]}}(o);const r=Ot(s)?qt:Gt;function h(o,h){let a;const c={...t.useContext(st),...o,layoutId:ei(o)},{isStatic:u}=c,l=function(i){const{initial:s,animate:n}=function(t,i){if(Ct(t)){const{initial:i,animate:s}=t;return{initial:!1===i||wt(i)?i:void 0,animate:wt(s)?s:void 0}}return!1!==t.inherit?i:{}}(i,t.useContext(vt));return t.useMemo(()=>({initial:s,animate:n}),[bt(s),bt(n)])}(o),f=r(o,u);if(!u&&Q){t.useContext(lt);const i=function(t){const{drag:i,layout:s}=dt;if(!i&&!s)return{};const n={...i,...s};return{MeasureLayout:i?.isEnabled(t)||s?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(c);a=i.MeasureLayout,l.visualElement=si(s,f,c,e,i.ProjectionNode)}return i.jsxs(vt.Provider,{value:l,children:[a&&l.visualElement?i.jsx(a,{visualElement:l.visualElement,...c}):null,Ut(s,o,Jt(f,l.visualElement,h),f,u,n)]})}h.displayName=`motion.${"string"==typeof s?s:`create(${s.displayName??s.name??""})`}`;const a=t.forwardRef(h);return a[_t]=s,a}function ei({layoutId:i}){const s=t.useContext(K).id;return s&&void 0!==i?s+"-"+i:i}function ri(t,i){if("undefined"==typeof Proxy)return oi;const s=new Map,n=(s,n)=>oi(s,n,t,i);return new Proxy((t,i)=>n(t,i),{get:(o,e)=>"create"===e?n:(s.has(e)||s.set(e,oi(e,void 0,t,i)),s.get(e))})}function hi({top:t,left:i,right:s,bottom:n}){return{x:{min:i,max:s},y:{min:t,max:n}}}function ai(t){return void 0===t||1===t}function ci({scale:t,scaleX:i,scaleY:s}){return!ai(t)||!ai(i)||!ai(s)}function ui(t){return ci(t)||li(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function li(t){return fi(t.x)||fi(t.y)}function fi(t){return t&&"0%"!==t}function di(t,i,s){return s+i*(t-s)}function mi(t,i,s,n,o){return void 0!==o&&(t=di(t,o,n)),di(t,s,n)+i}function pi(t,i=0,s=1,n,o){t.min=mi(t.min,i,s,n,o),t.max=mi(t.max,i,s,n,o)}function gi(t,{x:i,y:s}){pi(t.x,i.translate,i.scale,i.originPoint),pi(t.y,s.translate,s.scale,s.originPoint)}const yi=.999999999999,vi=1.0000000000001;function xi(t,i){t.min=t.min+i,t.max=t.max+i}function wi(t,i,s,n,o=.5){pi(t,i,s,u(t.min,t.max,o),n)}function Si(t,i){wi(t.x,i.x,i.scaleX,i.scale,i.originX),wi(t.y,i.y,i.scaleY,i.scale,i.originY)}function Pi(t,i){return hi(function(t,i){if(!i)return t;const s=i({x:t.left,y:t.top}),n=i({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}(t.getBoundingClientRect(),i))}const Ci=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Ti={current:null},bi={current:!1},Ai=new WeakMap,Mi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ei{scrapeMotionValuesFromProps(t,i,s){return{}}constructor({parent:t,props:i,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:o,visualState:e},r={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=f,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const t=d.now();this.renderScheduledAt<t&&(this.renderScheduledAt=t,m.render(this.render,!1,!0))};const{latestValues:h,renderState:c}=e;this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=c,this.parent=t,this.props=i,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=r,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=Ct(i),this.isVariantNode=Tt(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...l}=this.scrapeMotionValuesFromProps(i,{},this);for(const f in l){const t=l[f];void 0!==h[f]&&a(t)&&t.set(h[f])}}mount(t){this.current=t,Ai.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),bi.current||function(){if(bi.current=!0,Q)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),i=()=>Ti.current=t.matches;t.addEventListener("change",i),i()}else Ti.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ti.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),p(this.notifyUpdate),p(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=o.has(t);s&&this.onBindTransform&&this.onBindTransform();const n=i.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&m.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let e;window.MotionCheckAppearSync&&(e=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{n(),e&&e(),i.owner&&i.stop()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}updateFeatures(){let t="animation";for(t in dt){const i=dt[t];if(!i)continue;const{isEnabled:s,Feature:n}=i;if(!this.features[t]&&n&&s(this.props)&&(this.features[t]=new n(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<Mi.length;s++){const i=Mi[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const n=t["on"+i];n&&(this.propEventSubscriptions[i]=this.on(i,n))}this.prevMotionValues=function(t,i,s){for(const n in i){const o=i[n],e=s[n];if(a(o))t.addValue(n,o);else if(a(e))t.addValue(n,l(o,{owner:t}));else if(e!==o)if(t.hasValue(n)){const i=t.getValue(n);!0===i.liveStyle?i.jump(o):i.hasAnimated||i.set(o)}else{const i=t.getStaticValue(n);t.addValue(n,l(void 0!==i?i:o,{owner:t}))}}for(const n in s)void 0===i[n]&&t.removeValue(n);return i}(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const s=this.values.get(t);i!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return void 0===s&&void 0!==i&&(s=l(null===i?void 0:i,{owner:this}),this.addValue(t,s)),s}readValue(t,i){let s=void 0===this.latestValues[t]&&this.current?this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options):this.latestValues[t];return null!=s&&("string"==typeof s&&(g(s)||y(s))?s=parseFloat(s):!v(s)&&x.test(i)&&(s=w(t,i)),this.setBaseTarget(t,a(s)?s.get():s)),a(s)?s.get():s}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){const{initial:i}=this.props;let s;if("string"==typeof i||"object"==typeof i){const n=Ht(this.props,i,this.presenceContext?.custom);n&&(s=n[t])}if(i&&void 0!==s)return s;const n=this.getBaseTargetFromProps(this.props,t);return void 0===n||a(n)?void 0!==this.initialValues[t]&&void 0===s?void 0:this.baseTarget[t]:n}on(t,i){return this.events[t]||(this.events[t]=new S),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){P.render(this.render)}}class Li extends Ei{constructor(){super(...arguments),this.KeyframeResolver=C}sortInstanceNodePosition(t,i){return 2&t.compareDocumentPosition(i)?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:s}){delete i[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;a(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Vi(t,{style:i,vars:s},n,o){const e=t.style;let r;for(r in i)e[r]=i[r];for(r in o?.applyProjectionStyles(e,n),s)e.setProperty(r,s[r])}class Ri extends Li{constructor(){super(...arguments),this.type="html",this.renderInstance=Vi}readValueFromInstance(t,i){if(o.has(i))return this.projection?.isProjecting?T(i):b(t,i);{const s=window.getComputedStyle(t),o=(n(i)?s.getPropertyValue(i):s[i])||0;return"string"==typeof o?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return Pi(t,i)}build(t,i,s){Vt(t,i,s.transformTemplate)}scrapeMotionValuesFromProps(t,i,s){return zt(t,i,s)}}const ki=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Bi extends Li{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ci}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(o.has(i)){const t=A(i);return t&&t.default||0}return i=ki.has(i)?i:Qt(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,s){return Zt(t,i,s)}build(t,i,s){Dt(t,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,i,s,n){!function(t,i,s,n){Vi(t,i,void 0,n);for(const o in i.attrs)t.setAttribute(ki.has(o)?o:Qt(o),i.attrs[o])}(t,i,0,n)}mount(t){this.isSVGTag=Ft(t.tagName),super.mount(t)}}const $i=(i,s)=>Ot(i)?new Bi(s):new Ri(s,{allowProjection:i!==t.Fragment});function Di(t,i,s){const n=t.getProps();return Ht(n,i,void 0!==s?s:n.custom,t)}const Fi=t=>Array.isArray(t);function Ii(t,i,s){t.hasValue(i)?t.getValue(i).set(s):t.addValue(i,l(s))}function ji(t){return Fi(t)?t[t.length-1]||0:t}function Oi(t,i){const s=t.getValue("willChange");if(n=s,Boolean(a(n)&&n.add))return s.add(i);if(!s&&M.WillChange){const s=new M.WillChange("auto");t.addValue("willChange",s),s.add(i)}var n}function Ui(t){return t.props[ti]}const Xi=t=>null!==t,Hi={type:"spring",stiffness:500,damping:25,restSpeed:10},Yi={type:"keyframes",duration:.8},Ni={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wi=(t,i,s,n={},e,r)=>h=>{const a=E(n,t)||{},c=a.delay||n.delay||0;let{elapsed:u=0}=n;u-=L(c);const l={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:i.getVelocity(),...a,delay:-u,onUpdate:t=>{i.set(t),a.onUpdate&&a.onUpdate(t)},onComplete:()=>{h(),a.onComplete&&a.onComplete()},name:t,motionValue:i,element:r?void 0:e};(function({when:t,delay:i,delayChildren:s,staggerChildren:n,staggerDirection:o,repeat:e,repeatType:r,repeatDelay:h,from:a,elapsed:c,...u}){return!!Object.keys(u).length})(a)||Object.assign(l,((t,{keyframes:i})=>i.length>2?Yi:o.has(t)?t.startsWith("scale")?{type:"spring",stiffness:550,damping:0===i[1]?2*Math.sqrt(550):30,restSpeed:10}:Hi:Ni)(t,l)),l.duration&&(l.duration=L(l.duration)),l.repeatDelay&&(l.repeatDelay=L(l.repeatDelay)),void 0!==l.from&&(l.keyframes[0]=l.from);let f=!1;if((!1===l.type||0===l.duration&&!l.repeatDelay)&&(V(l),0===l.delay&&(f=!0)),(M.instantAnimations||M.skipAnimations)&&(f=!0,V(l),l.delay=0),l.allowFlatten=!a.type&&!a.ease,f&&!r&&void 0!==i.get()){const t=function(t,{repeat:i,repeatType:s="loop"}){const n=t.filter(Xi);return n[i&&"loop"!==s&&i%2==1?0:n.length-1]}(l.keyframes,a);if(void 0!==t)return void m.update(()=>{l.onUpdate(t),l.onComplete()})}return a.isSync?new R(l):new k(l)};function zi({protectedKeys:t,needsAnimating:i},s){const n=t.hasOwnProperty(s)&&!0!==i[s];return i[s]=!1,n}function Gi(t,i,{delay:s=0,transitionOverride:n,type:o}={}){let{transition:e=t.getDefaultTransition(),transitionEnd:r,...h}=i;n&&(e=n);const a=[],c=o&&t.animationState&&t.animationState.getState()[o];for(const u in h){const i=t.getValue(u,t.latestValues[u]??null),n=h[u];if(void 0===n||c&&zi(c,u))continue;const o={delay:s,...E(e||{},u)},r=i.get();if(void 0!==r&&!i.isAnimating&&!Array.isArray(n)&&n===r&&!o.velocity)continue;let l=!1;if(window.MotionHandoffAnimation){const i=Ui(t);if(i){const t=window.MotionHandoffAnimation(i,u,m);null!==t&&(o.startTime=t,l=!0)}}Oi(t,u),i.start(Wi(u,i,n,t.shouldReduceMotion&&B.has(u)?{type:!1}:o,t,l));const f=i.animation;f&&a.push(f)}return r&&Promise.all(a).then(()=>{m.update(()=>{r&&function(t,i){const s=Di(t,i);let{transitionEnd:n={},transition:o={},...e}=s||{};e={...e,...n};for(const r in e)Ii(t,r,ji(e[r]))}(t,r)})}),a}function Zi(t,i,s,n=0,o=1){const e=Array.from(t).sort((t,i)=>t.sortNodePosition(i)).indexOf(i),r=t.size,h=(r-1)*n;return"function"==typeof s?s(e,r):1===o?e*n:h-e*n}function qi(t,i,s={}){const n=Di(t,i,"exit"===s.type?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(o=s.transitionOverride);const e=n?()=>Promise.all(Gi(t,n,s)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(n=0)=>{const{delayChildren:e=0,staggerChildren:r,staggerDirection:h}=o;return function(t,i,s=0,n=0,o=0,e=1,r){const h=[];for(const a of t.variantChildren)a.notify("AnimationStart",i),h.push(qi(a,i,{...r,delay:s+("function"==typeof n?0:n)+Zi(t.variantChildren,a,n,o,e)}).then(()=>a.notify("AnimationComplete",i)));return Promise.all(h)}(t,i,n,e,r,h,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[t,i]="beforeChildren"===h?[e,r]:[r,e];return t().then(()=>i())}return Promise.all([e(),r(s.delay)])}function _i(t,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(i[n]!==t[n])return!1;return!0}const Ki=Pt.length;function Ji(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent&&Ji(t.parent)||{};return void 0!==t.props.initial&&(i.initial=t.props.initial),i}const i={};for(let s=0;s<Ki;s++){const n=Pt[s],o=t.props[n];(wt(o)||!1===o)&&(i[n]=o)}return i}const Qi=[...St].reverse(),ts=St.length;function is(t){let i=function(t){return i=>Promise.all(i.map(({animation:i,options:s})=>function(t,i,s={}){let n;if(t.notify("AnimationStart",i),Array.isArray(i)){const o=i.map(i=>qi(t,i,s));n=Promise.all(o)}else if("string"==typeof i)n=qi(t,i,s);else{const o="function"==typeof i?Di(t,i,s.custom):i;n=Promise.all(Gi(t,o,s))}return n.then(()=>{t.notify("AnimationComplete",i)})}(t,i,s)))}(t),s=os(),n=!0;const o=i=>(s,n)=>{const o=Di(t,n,"exit"===i?t.presenceContext?.custom:void 0);if(o){const{transition:t,transitionEnd:i,...n}=o;s={...s,...n,...i}}return s};function e(e){const{props:r}=t,h=Ji(t.parent)||{},a=[],c=new Set;let u={},l=1/0;for(let i=0;i<ts;i++){const f=Qi[i],d=s[f],m=void 0!==r[f]?r[f]:h[f],p=wt(m),g=f===e?d.isActive:null;!1===g&&(l=i);let y=m===h[f]&&m!==r[f]&&p;if(y&&n&&t.manuallyAnimateOnMount&&(y=!1),d.protectedKeys={...u},!d.isActive&&null===g||!m&&!d.prevProp||xt(m)||"boolean"==typeof m)continue;const v=ss(d.prevProp,m);let x=v||f===e&&d.isActive&&!y&&p||i>l&&p,w=!1;const S=Array.isArray(m)?m:[m];let P=S.reduce(o(f),{});!1===g&&(P={});const{prevResolvedValues:C={}}=d,T={...C,...P},b=i=>{x=!0,c.has(i)&&(w=!0,c.delete(i)),d.needsAnimating[i]=!0;const s=t.getValue(i);s&&(s.liveStyle=!1)};for(const t in T){const i=P[t],s=C[t];if(u.hasOwnProperty(t))continue;let n=!1;n=Fi(i)&&Fi(s)?!_i(i,s):i!==s,n?null!=i?b(t):c.add(t):void 0!==i&&c.has(t)?b(t):d.protectedKeys[t]=!0}d.prevProp=m,d.prevResolvedValues=P,d.isActive&&(u={...u,...P}),n&&t.blockInitialAnimation&&(x=!1);const A=y&&v;x&&(!A||w)&&a.push(...S.map(i=>{const s={type:f};if("string"==typeof i&&n&&!A&&t.manuallyAnimateOnMount&&t.parent){const{parent:n}=t,o=Di(n,i);if(n.enteringChildren&&o){const{delayChildren:i}=o.transition||{};s.delay=Zi(n.enteringChildren,t,i)}}return{animation:i,options:s}}))}if(c.size){const i={};if("boolean"!=typeof r.initial){const s=Di(t,Array.isArray(r.initial)?r.initial[0]:r.initial);s&&s.transition&&(i.transition=s.transition)}c.forEach(s=>{const n=t.getBaseTarget(s),o=t.getValue(s);o&&(o.liveStyle=!0),i[s]=n??null}),a.push({animation:i})}let f=Boolean(a.length);return!n||!1!==r.initial&&r.initial!==r.animate||t.manuallyAnimateOnMount||(f=!1),n=!1,f?i(a):Promise.resolve()}return{animateChanges:e,setActive:function(i,n){if(s[i].isActive===n)return Promise.resolve();t.variantChildren?.forEach(t=>t.animationState?.setActive(i,n)),s[i].isActive=n;const o=e(i);for(const t in s)s[t].protectedKeys={};return o},setAnimateFunction:function(s){i=s(t)},getState:()=>s,reset:()=>{s=os(),n=!0}}}function ss(t,i){return"string"==typeof i?i!==t:!!Array.isArray(i)&&!_i(i,t)}function ns(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function os(){return{animate:ns(!0),whileInView:ns(),whileHover:ns(),whileTap:ns(),whileDrag:ns(),whileFocus:ns(),exit:ns()}}class es{constructor(t){this.isMounted=!1,this.node=t}update(){}}let rs=0;const hs={animation:{Feature:class extends es{constructor(t){super(t),t.animationState||(t.animationState=is(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends es{constructor(){super(...arguments),this.id=rs++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const n=this.node.animationState.setActive("exit",!t);i&&!t&&n.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}}};function as(t,i,s,n={passive:!0}){return t.addEventListener(i,s,n),()=>t.removeEventListener(i,s)}function cs(t){return{point:{x:t.pageX,y:t.pageY}}}function us(t,i,s,n){return as(t,i,(t=>i=>$(i)&&t(i,cs(i)))(s),n)}function ls(t){return t.max-t.min}function fs(t,i,s,n=.5){t.origin=n,t.originPoint=u(i.min,i.max,t.origin),t.scale=ls(s)/ls(i),t.translate=u(s.min,s.max,t.origin)-t.originPoint,(t.scale>=.9999&&t.scale<=1.0001||isNaN(t.scale))&&(t.scale=1),(t.translate>=-.01&&t.translate<=.01||isNaN(t.translate))&&(t.translate=0)}function ds(t,i,s,n){fs(t.x,i.x,s.x,n?n.originX:void 0),fs(t.y,i.y,s.y,n?n.originY:void 0)}function ms(t,i,s){t.min=s.min+i.min,t.max=t.min+ls(i)}function ps(t,i,s){t.min=i.min-s.min,t.max=t.min+ls(i)}function gs(t,i,s){ps(t.x,i.x,s.x),ps(t.y,i.y,s.y)}function ys(t){return[t("x"),t("y")]}const vs=({current:t})=>t?t.ownerDocument.defaultView:null,xs=(t,i)=>Math.abs(t-i);class ws{constructor(t,i,{transformPagePoint:s,contextWindow:n=window,dragSnapToOrigin:o=!1,distanceThreshold:e=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=Cs(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,s=function(t,i){const s=xs(t.x,i.x),n=xs(t.y,i.y);return Math.sqrt(s**2+n**2)}(t.offset,{x:0,y:0})>=this.distanceThreshold;if(!i&&!s)return;const{point:n}=t,{timestamp:o}=D;this.history.push({...n,timestamp:o});const{onStart:e,onMove:r}=this.handlers;i||(e&&e(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),r&&r(this.lastMoveEvent,t)},this.handlePointerMove=(t,i)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=Ss(i,this.transformPagePoint),m.update(this.updatePoint,!0)},this.handlePointerUp=(t,i)=>{this.end();const{onEnd:s,onSessionEnd:n,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Cs("pointercancel"===t.type?this.lastMoveEventInfo:Ss(i,this.transformPagePoint),this.history);this.startEvent&&s&&s(t,e),n&&n(t,e)},!$(t))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=e,this.contextWindow=n||window;const r=Ss(cs(t),this.transformPagePoint),{point:h}=r,{timestamp:a}=D;this.history=[{...h,timestamp:a}];const{onSessionStart:c}=i;c&&c(t,Cs(r,this.history)),this.removeListeners=F(us(this.contextWindow,"pointermove",this.handlePointerMove),us(this.contextWindow,"pointerup",this.handlePointerUp),us(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),p(this.updatePoint)}}function Ss(t,i){return i?{point:i(t.point)}:t}function Ps(t,i){return{x:t.x-i.x,y:t.y-i.y}}function Cs({point:t},i){return{point:t,delta:Ps(t,bs(i)),offset:Ps(t,Ts(i)),velocity:As(i,.1)}}function Ts(t){return t[0]}function bs(t){return t[t.length-1]}function As(t,i){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const o=bs(t);for(;s>=0&&(n=t[s],!(o.timestamp-n.timestamp>L(i)));)s--;if(!n)return{x:0,y:0};const e=I(o.timestamp-n.timestamp);if(0===e)return{x:0,y:0};const r={x:(o.x-n.x)/e,y:(o.y-n.y)/e};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Ms(t,i,s){return{min:void 0!==i?t.min+i:void 0,max:void 0!==s?t.max+s-(t.max-t.min):void 0}}function Es(t,i){let s=i.min-t.min,n=i.max-t.max;return i.max-i.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}const Ls=.35;function Vs(t,i,s){return{min:Rs(t,i),max:Rs(t,s)}}function Rs(t,i){return"number"==typeof t?t:t[i]||0}const ks=new WeakMap;class Bs{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new ws(t,{onSessionStart:t=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(cs(t).point)},onStart:(t,i)=>{const{drag:s,dragPropagation:n,onDragStart:o}=this.getProps();if(s&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U(s),!this.openDragLock))return;this.latestPointerEvent=t,this.latestPanInfo=i,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(t=>{let i=this.getAxisMotionValue(t).get()||0;if(X.test(i)){const{projection:s}=this.visualElement;if(s&&s.layout){const n=s.layout.layoutBox[t];n&&(i=ls(n)*(parseFloat(i)/100))}}this.originPoint[t]=i}),o&&m.postRender(()=>o(t,i)),Oi(this.visualElement,"transform");const{animationState:e}=this.visualElement;e&&e.setActive("whileDrag",!0)},onMove:(t,i)=>{this.latestPointerEvent=t,this.latestPanInfo=i;const{dragPropagation:s,dragDirectionLock:n,onDirectionLock:o,onDrag:e}=this.getProps();if(!s&&!this.openDragLock)return;const{offset:r}=i;if(n&&null===this.currentDirection)return this.currentDirection=function(t,i=10){let s=null;return Math.abs(t.y)>i?s="y":Math.abs(t.x)>i&&(s="x"),s}(r),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",i.point,r),this.updateAxis("y",i.point,r),this.visualElement.render(),e&&e(t,i)},onSessionEnd:(t,i)=>{this.latestPointerEvent=t,this.latestPanInfo=i,this.stop(t,i),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>ys(t=>"paused"===this.getAnimationState(t)&&this.getAxisMotionValue(t).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:s,contextWindow:vs(this.visualElement)})}stop(t,i){const s=t||this.latestPointerEvent,n=i||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!n||!s)return;const{velocity:e}=n;this.startAnimation(e);const{onDragEnd:r}=this.getProps();r&&m.postRender(()=>r(s,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,s){const{drag:n}=this.getProps();if(!s||!$s(t,n,this.currentDirection))return;const o=this.getAxisMotionValue(t);let e=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(e=function(t,{min:i,max:s},n){return void 0!==i&&t<i?t=n?u(i,t,n.min):Math.max(t,i):void 0!==s&&t>s&&(t=n?u(s,t,n.max):Math.min(t,s)),t}(e,this.constraints[t],this.elastic[t])),o.set(e)}resolveConstraints(){const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;t&&Kt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!s)&&function(t,{top:i,left:s,bottom:n,right:o}){return{x:Ms(t.x,s,o),y:Ms(t.y,i,n)}}(s.layoutBox,t),this.elastic=function(t=Ls){return!1===t?t=0:!0===t&&(t=Ls),{x:Vs(t,"left","right"),y:Vs(t,"top","bottom")}}(i),n!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ys(t=>{!1!==this.constraints&&this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,i){const s={};return void 0!==i.min&&(s.min=i.min-t.min),void 0!==i.max&&(s.max=i.max-t.min),s}(s.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Kt(t))return!1;const s=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const o=function(t,i,s){const n=Pi(t,s),{scroll:o}=i;return o&&(xi(n.x,o.offset.x),xi(n.y,o.offset.y)),n}(s,n.root,this.visualElement.getTransformPagePoint());let e=function(t,i){return{x:Es(t.x,i.x),y:Es(t.y,i.y)}}(n.layout.layoutBox,o);if(i){const t=i(function({x:t,y:i}){return{top:i.min,right:t.max,bottom:i.max,left:t.min}}(e));this.hasMutatedConstraints=!!t,t&&(e=hi(t))}return e}startAnimation(t){const{drag:i,dragMomentum:s,dragElastic:n,dragTransition:o,dragSnapToOrigin:e,onDragTransitionEnd:r}=this.getProps(),h=this.constraints||{},a=ys(r=>{if(!$s(r,i,this.currentDirection))return;let a=h&&h[r]||{};e&&(a={min:0,max:0});const c={type:"inertia",velocity:s?t[r]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...o,...a};return this.startAxisValueAnimation(r,c)});return Promise.all(a).then(r)}startAxisValueAnimation(t,i){const s=this.getAxisMotionValue(t);return Oi(this.visualElement,t),s.start(Wi(t,s,0,i,this.visualElement,!1))}stopAnimation(){ys(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ys(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps();return s[i]||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ys(i=>{const{drag:s}=this.getProps();if(!$s(i,s,this.currentDirection))return;const{projection:n}=this.visualElement,o=this.getAxisMotionValue(i);if(n&&n.layout){const{min:s,max:e}=n.layout.layoutBox[i];o.set(t[i]-u(s,e,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Kt(i)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ys(t=>{const i=this.getAxisMotionValue(t);if(i&&!1!==this.constraints){const s=i.get();n[t]=function(t,i){let s=.5;const n=ls(t),o=ls(i);return o>n?s=j(i.min,i.max-n,t.min):n>o&&(s=j(t.min,t.max-o,i.min)),O(0,1,s)}({min:s,max:s},this.constraints[t])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ys(i=>{if(!$s(i,t,null))return;const s=this.getAxisMotionValue(i),{min:o,max:e}=this.constraints[i];s.set(u(o,e,n[i]))})}addListeners(){if(!this.visualElement.current)return;ks.set(this.visualElement,this);const t=us(this.visualElement.current,"pointerdown",t=>{const{drag:i,dragListener:s=!0}=this.getProps();i&&s&&this.start(t)}),i=()=>{const{dragConstraints:t}=this.getProps();Kt(t)&&t.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,n=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),m.read(i);const o=as(window,"resize",()=>this.scalePositionWithinConstraints()),e=s.addEventListener("didUpdate",({delta:t,hasLayoutChanged:i})=>{this.isDragging&&i&&(ys(i=>{const s=this.getAxisMotionValue(i);s&&(this.originPoint[i]+=t[i].translate,s.set(s.get()+t[i].translate))}),this.visualElement.render())});return()=>{o(),t(),n(),e&&e()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:e=Ls,dragMomentum:r=!0}=t;return{...t,drag:i,dragDirectionLock:s,dragPropagation:n,dragConstraints:o,dragElastic:e,dragMomentum:r}}}function $s(t,i,s){return!(!0!==i&&i!==t||null!==s&&s!==t)}const Ds=t=>(i,s)=>{t&&m.postRender(()=>t(i,s))},Fs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Is(t,i){return i.max===i.min?0:t/(i.max-i.min)*100}const js={correct:(t,i)=>{if(!i.target)return t;if("string"==typeof t){if(!c.test(t))return t;t=parseFloat(t)}return`${Is(t,i.target.x)}% ${Is(t,i.target.y)}%`}},Os={correct:(t,{treeScale:i,projectionDelta:s})=>{const n=t,o=x.parse(t);if(o.length>5)return n;const e=x.createTransformer(t),r="number"!=typeof o[0]?1:0,h=s.x.scale*i.x,a=s.y.scale*i.y;o[0+r]/=h,o[1+r]/=a;const c=u(h,a,.5);return"number"==typeof o[2+r]&&(o[2+r]/=c),"number"==typeof o[3+r]&&(o[3+r]/=c),e(o)}};let Us=!1;class Xs extends t.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s,layoutId:o}=this.props,{projection:e}=t;!function(t){for(const i in t)At[i]=t[i],n(i)&&(At[i].isCSSVariable=!0)}(Ys),e&&(i.group&&i.group.add(e),s&&s.register&&o&&s.register(e),Us&&e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),Fs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:s,drag:n,isPresent:o}=this.props,{projection:e}=s;return e?(e.isPresent=o,Us=!0,n||t.layoutDependency!==i||void 0===i||t.isPresent!==o?e.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?e.promote():e.relegate()||m.postRender(()=>{const t=e.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),P.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:n}=t;Us=!0,n&&(n.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Hs(s){const[n,o]=ht(),e=t.useContext(K);return i.jsx(Xs,{...s,layoutGroup:e,switchLayoutGroup:t.useContext(ii),isPresent:n,safeToRemove:o})}const Ys={borderRadius:{...js,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:js,borderTopRightRadius:js,borderBottomLeftRadius:js,borderBottomRightRadius:js,boxShadow:Os},Ns=(t,i)=>t.depth-i.depth;class Ws{constructor(){this.children=[],this.isDirty=!1}add(t){Y(this.children,t),this.isDirty=!0}remove(t){N(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Ns),this.isDirty=!1,this.children.forEach(t)}}const zs=["TopLeft","TopRight","BottomLeft","BottomRight"],Gs=zs.length,Zs=t=>"string"==typeof t?parseFloat(t):t,qs=t=>"number"==typeof t||c.test(t);function _s(t,i){return void 0!==t[i]?t[i]:t.borderRadius}const Ks=Qs(0,.5,W),Js=Qs(.5,.95,H);function Qs(t,i,s){return n=>n<t?0:n>i?1:s(j(t,i,n))}function tn(t,i){t.min=i.min,t.max=i.max}function sn(t,i){tn(t.x,i.x),tn(t.y,i.y)}function nn(t,i){t.translate=i.translate,t.scale=i.scale,t.originPoint=i.originPoint,t.origin=i.origin}function on(t,i,s,n,o){return t=di(t-=i,1/s,n),void 0!==o&&(t=di(t,1/o,n)),t}function en(t,i,[s,n,o],e,r){!function(t,i=0,s=1,n=.5,o,e=t,r=t){if(X.test(i)&&(i=parseFloat(i),i=u(r.min,r.max,i/100)-r.min),"number"!=typeof i)return;let h=u(e.min,e.max,n);t===e&&(h-=i),t.min=on(t.min,i,s,h,o),t.max=on(t.max,i,s,h,o)}(t,i[s],i[n],i[o],i.scale,e,r)}const rn=["x","scaleX","originX"],hn=["y","scaleY","originY"];function an(t,i,s,n){en(t.x,i,rn,s?s.x:void 0,n?n.x:void 0),en(t.y,i,hn,s?s.y:void 0,n?n.y:void 0)}function cn(t){return 0===t.translate&&1===t.scale}function un(t){return cn(t.x)&&cn(t.y)}function ln(t,i){return t.min===i.min&&t.max===i.max}function fn(t,i){return Math.round(t.min)===Math.round(i.min)&&Math.round(t.max)===Math.round(i.max)}function dn(t,i){return fn(t.x,i.x)&&fn(t.y,i.y)}function mn(t){return ls(t.x)/ls(t.y)}function pn(t,i){return t.translate===i.translate&&t.scale===i.scale&&t.originPoint===i.originPoint}class gn{constructor(){this.members=[]}add(t){Y(this.members,t),t.scheduleRender()}remove(t){if(N(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const i=this.members.findIndex(i=>t===i);if(0===i)return!1;let s;for(let n=i;n>=0;n--){const t=this.members[n];if(!1!==t.isPresent){s=t;break}}return!!s&&(this.promote(s),!0)}promote(t,i){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,i&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;!1===n&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:s}=t;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const yn=["","X","Y","Z"];let vn=0;function xn(t,i,s,n){const{latestValues:o}=i;o[t]&&(s[t]=o[t],i.setStaticValue(t,0),n&&(n[t]=0))}function wn(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:i}=t.options;if(!i)return;const s=Ui(i);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",m,!(i||n))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&wn(n)}function Sn({attachResizeListener:t,defaultParent:i,measureScroll:s,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(t={},s=i?.()){this.id=vn++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tn),this.nodes.forEach(Rn),this.nodes.forEach(kn),this.nodes.forEach(bn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let i=0;i<this.path.length;i++)this.path[i].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ws)}addEventListener(t,i){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new S),this.eventHandlers.get(t).add(i)}notifyListeners(t,...i){const s=this.eventHandlers.get(t);s&&s.notify(...i)}hasListeners(t){return this.eventHandlers.has(t)}mount(i){if(this.instance)return;this.isSVG=z(i)&&!G(i),this.instance=i;const{layoutId:s,layout:n,visualElement:o}=this.options;if(o&&!o.current&&o.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(n||s)&&(this.isLayoutDirty=!0),t){let s,n=0;const o=()=>this.root.updateBlockedByResize=!1;m.read(()=>{n=window.innerWidth}),t(i,()=>{const t=window.innerWidth;t!==n&&(n=t,this.root.updateBlockedByResize=!0,s&&s(),s=function(t){const i=d.now(),s=({timestamp:n})=>{const o=n-i;o>=250&&(p(s),t(o-250))};return m.setup(s,!0),()=>p(s)}(o),Fs.hasAnimatedSinceResize&&(Fs.hasAnimatedSinceResize=!1,this.nodes.forEach(Vn)))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&o&&(s||n)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:i,hasRelativeLayoutChanged:s,layout:n})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const e=this.options.transition||o.getDefaultTransition()||jn,{onLayoutAnimationStart:r,onLayoutAnimationComplete:h}=o.getProps(),a=!this.targetLayout||!dn(this.targetLayout,n),c=!i&&s;if(this.options.layoutRoot||this.resumeFrom||c||i&&(a||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const i={...E(e,"layout"),onPlay:r,onComplete:h};(o.shouldReduceMotion||this.options.layoutRoot)&&(i.delay=0,i.type=!1),this.startAnimation(i),this.setAnimationOrigin(t,c)}else i||Vn(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),p(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bn),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wn(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const t=this.path[o];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:i,layout:s}=this.options;if(void 0===i&&!s)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Mn);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(En);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ln),this.nodes.forEach(Pn),this.nodes.forEach(Cn)):this.nodes.forEach(En),this.clearAllSnapshots();const t=d.now();D.delta=O(0,1e3/60,t-D.timestamp),D.timestamp=t,D.isProcessing=!0,Z.update.process(D),Z.preRender.process(D),Z.render.process(D),D.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,P.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(An),this.sharedNodes.forEach($n)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,m.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){m.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ls(this.snapshot.measuredBox.x)||ls(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:i}=this.options;i&&i.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let i=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(i=!1),i&&this.instance){const i=n(this.instance);this.scroll={animationId:this.root.animationId,phase:t,isRoot:i,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:i}}}resetTransform(){if(!o)return;const t=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,i=this.projectionDelta&&!un(this.projectionDelta),s=this.getTransformTemplate(),n=s?s(this.latestValues,""):void 0,e=n!==this.prevTransformTemplateValue;t&&this.instance&&(i||ui(this.latestValues)||e)&&(o(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const i=this.measurePageBox();let s=this.removeElementScroll(i);var n;return t&&(s=this.removeTransform(s)),Xn((n=s).x),Xn(n.y),{animationId:this.root.animationId,measuredBox:i,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const i=t.measureViewportBox();if(!this.scroll?.wasRoot&&!this.path.some(Yn)){const{scroll:t}=this.root;t&&(xi(i.x,t.offset.x),xi(i.y,t.offset.y))}return i}removeElementScroll(t){const i={x:{min:0,max:0},y:{min:0,max:0}};if(sn(i,t),this.scroll?.wasRoot)return i;for(let s=0;s<this.path.length;s++){const n=this.path[s],{scroll:o,options:e}=n;n!==this.root&&o&&e.layoutScroll&&(o.wasRoot&&sn(i,t),xi(i.x,o.offset.x),xi(i.y,o.offset.y))}return i}applyTransform(t,i=!1){const s={x:{min:0,max:0},y:{min:0,max:0}};sn(s,t);for(let n=0;n<this.path.length;n++){const t=this.path[n];!i&&t.options.layoutScroll&&t.scroll&&t!==t.root&&Si(s,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),ui(t.latestValues)&&Si(s,t.latestValues)}return ui(this.latestValues)&&Si(s,this.latestValues),s}removeTransform(t){const i={x:{min:0,max:0},y:{min:0,max:0}};sn(i,t);for(let s=0;s<this.path.length;s++){const t=this.path[s];if(!t.instance)continue;if(!ui(t.latestValues))continue;ci(t.latestValues)&&t.updateSnapshot();const n=Ci();sn(n,t.measurePageBox()),an(i,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,n)}return ui(this.latestValues)&&an(i,this.latestValues),i}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==D.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){const i=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=i.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=i.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=i.isSharedProjectionDirty);const s=Boolean(this.resumingFrom)||this!==i;if(!(t||s&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:n,layoutId:o}=this.options;if(this.layout&&(n||o)){if(this.resolvedRelativeTargetAt=D.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},gs(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var e,r,h;if((this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ms((e=this.target).x,(r=this.relativeTarget).x,(h=this.relativeParent.target).x),ms(e.y,r.y,h.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):sn(this.target,this.layout.layoutBox),gi(this.target,this.targetDelta)):sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},gs(this.relativeTargetOrigin,this.target,t.target),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!ci(this.parent.latestValues)&&!li(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const t=this.getLead(),i=Boolean(this.resumingFrom)||this!==t;let s=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(s=!1),i&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===D.timestamp&&(s=!1),s)return;const{layout:n,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!n&&!o)return;sn(this.layoutCorrected,this.layout.layoutBox);const e=this.treeScale.x,r=this.treeScale.y;!function(t,i,s,n=!1){const o=s.length;if(!o)return;let e,r;i.x=i.y=1;for(let h=0;h<o;h++){e=s[h],r=e.projectionDelta;const{visualElement:o}=e.options;o&&o.props.style&&"contents"===o.props.style.display||(n&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Si(t,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),r&&(i.x*=r.x.scale,i.y*=r.y.scale,gi(t,r)),n&&ui(e.latestValues)&&Si(t,e.latestValues))}i.x<vi&&i.x>yi&&(i.x=1),i.y<vi&&i.y>yi&&(i.y=1)}(this.layoutCorrected,this.treeScale,this.path,i),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:h}=t;h?(this.projectionDelta&&this.prevProjectionDelta?(nn(this.prevProjectionDelta.x,this.projectionDelta.x),nn(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),ds(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.treeScale.x===e&&this.treeScale.y===r&&pn(this.projectionDelta.x,this.prevProjectionDelta.x)&&pn(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.visualElement?.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(t,i=!1){const s=this.snapshot,n=s?s.latestValues:{},o={...this.latestValues},e={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!i;const r={x:{min:0,max:0},y:{min:0,max:0}},h=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),a=this.getStack(),c=!a||a.members.length<=1,l=Boolean(h&&!c&&!0===this.options.crossfade&&!this.path.some(In));let f;this.animationProgress=0,this.mixTargetDelta=i=>{const s=i/1e3;var a,d,m,p,g,y;Dn(e.x,t.x,s),Dn(e.y,t.y,s),this.setTargetDelta(e),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gs(r,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fn((m=this.relativeTarget).x,(p=this.relativeTargetOrigin).x,(g=r).x,y=s),Fn(m.y,p.y,g.y,y),f&&ln((a=this.relativeTarget).x,(d=f).x)&&ln(a.y,d.y)&&(this.isProjectionDirty=!1),f||(f={x:{min:0,max:0},y:{min:0,max:0}}),sn(f,this.relativeTarget)),h&&(this.animationValues=o,function(t,i,s,n,o,e){o?(t.opacity=u(0,s.opacity??1,Ks(n)),t.opacityExit=u(i.opacity??1,0,Js(n))):e&&(t.opacity=u(i.opacity??1,s.opacity??1,n));for(let r=0;r<Gs;r++){const o=`border${zs[r]}Radius`;let e=_s(i,o),h=_s(s,o);void 0===e&&void 0===h||(e||(e=0),h||(h=0),0===e||0===h||qs(e)===qs(h)?(t[o]=Math.max(u(Zs(e),Zs(h),n),0),(X.test(h)||X.test(e))&&(t[o]+="%")):t[o]=h)}(i.rotate||s.rotate)&&(t.rotate=u(i.rotate||0,s.rotate||0,n))}(o,n,this.latestValues,s,l,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(p(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=m.update(()=>{Fs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=l(0)),this.currentAnimation=function(t,i,s){const n=a(t)?t:l(t);return n.start(Wi("",n,[0,1e3],s)),n.animation}(this.motionValue,0,{...t,velocity:0,isSync:!0,onUpdate:i=>{this.mixTargetDelta(i),t.onUpdate&&t.onUpdate(i)},onStop:()=>{},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:i,target:s,layout:n,latestValues:o}=t;if(i&&s&&n){if(this!==t&&this.layout&&n&&Hn(this.options.animationType,this.layout.layoutBox,n.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const i=ls(this.layout.layoutBox.x);s.x.min=t.target.x.min,s.x.max=s.x.min+i;const n=ls(this.layout.layoutBox.y);s.y.min=t.target.y.min,s.y.max=s.y.min+n}sn(i,s),Si(i,o),ds(this.projectionDeltaWithTransform,this.layoutCorrected,i,o)}}registerSharedNode(t,i){this.sharedNodes.has(t)||this.sharedNodes.set(t,new gn),this.sharedNodes.get(t).add(i);const s=i.options.initialPromotionConfig;i.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(i):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){const{layoutId:t}=this.options;return t&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:t}=this.options;return t?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:i,preserveFollowOpacity:s}={}){const n=this.getStack();n&&n.promote(this,s),t&&(this.projectionDelta=void 0,this.needsReset=!0),i&&this.setOptions({transition:i})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetSkewAndRotation(){const{visualElement:t}=this.options;if(!t)return;let i=!1;const{latestValues:s}=t;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(i=!0),!i)return;const n={};s.z&&xn("z",t,n,this.animationValues);for(let o=0;o<yn.length;o++)xn(`rotate${yn[o]}`,t,n,this.animationValues),xn(`skew${yn[o]}`,t,n,this.animationValues);t.render();for(const o in n)t.setStaticValue(o,n[o]),this.animationValues&&(this.animationValues[o]=n[o]);t.scheduleRender()}applyProjectionStyles(t,i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(t.visibility="hidden");const s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.visibility="",t.opacity="",t.pointerEvents=Yt(i?.pointerEvents)||"",void(t.transform=s?s(this.latestValues,""):"none");const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target)return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Yt(i?.pointerEvents)||""),void(this.hasProjected&&!ui(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1));t.visibility="";const o=n.animationValues||n.latestValues;this.applyTransformsToTarget();let e=function(t,i,s){let n="";const o=t.x.translate/i.x,e=t.y.translate/i.y,r=s?.z||0;if((o||e||r)&&(n=`translate3d(${o}px, ${e}px, ${r}px) `),1===i.x&&1===i.y||(n+=`scale(${1/i.x}, ${1/i.y}) `),s){const{transformPerspective:t,rotate:i,rotateX:o,rotateY:e,skewX:r,skewY:h}=s;t&&(n=`perspective(${t}px) ${n}`),i&&(n+=`rotate(${i}deg) `),o&&(n+=`rotateX(${o}deg) `),e&&(n+=`rotateY(${e}deg) `),r&&(n+=`skewX(${r}deg) `),h&&(n+=`skewY(${h}deg) `)}const h=t.x.scale*i.x,a=t.y.scale*i.y;return 1===h&&1===a||(n+=`scale(${h}, ${a})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);s&&(e=s(o,e)),t.transform=e;const{x:r,y:h}=this.projectionDelta;t.transformOrigin=`${100*r.origin}% ${100*h.origin}% 0`,t.opacity=n.animationValues?n===this?o.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:n===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const a in At){if(void 0===o[a])continue;const{correct:i,applyTo:s,isCSSVariable:r}=At[a],h="none"===e?o[a]:i(o[a],n);if(s){const i=s.length;for(let n=0;n<i;n++)t[s[n]]=h}else r?this.options.visualElement.renderState.vars[a]=h:t[a]=h}this.options.layoutId&&(t.pointerEvents=n===this?Yt(i?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>t.currentAnimation?.stop()),this.root.nodes.forEach(Mn),this.root.sharedNodes.clear()}}}function Pn(t){t.updateLayout()}function Cn(t){const i=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=t.layout,{animationType:o}=t.options,e=i.source!==t.layout.source;"size"===o?ys(t=>{const n=e?i.measuredBox[t]:i.layoutBox[t],o=ls(n);n.min=s[t].min,n.max=n.min+o}):Hn(o,i.layoutBox,s)&&ys(n=>{const o=e?i.measuredBox[n]:i.layoutBox[n],r=ls(s[n]);o.max=o.min+r,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[n].max=t.relativeTarget[n].min+r)});const r={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ds(r,s,i.layoutBox);const h={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};e?ds(h,t.applyTransform(n,!0),i.measuredBox):ds(h,s,i.layoutBox);const a=!un(r);let c=!1;if(!t.resumeFrom){const n=t.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:o,layout:e}=n;if(o&&e){const r={x:{min:0,max:0},y:{min:0,max:0}};gs(r,i.layoutBox,o.layoutBox);const h={x:{min:0,max:0},y:{min:0,max:0}};gs(h,s,e.layoutBox),dn(r,h)||(c=!0),n.options.layoutRoot&&(t.relativeTarget=h,t.relativeTargetOrigin=r,t.relativeParent=n)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:h,layoutDelta:r,hasLayoutChanged:a,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Tn(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bn(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function An(t){t.clearSnapshot()}function Mn(t){t.clearMeasurements()}function En(t){t.isLayoutDirty=!1}function Ln(t){const{visualElement:i}=t.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vn(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rn(t){t.resolveTargetDelta()}function kn(t){t.calcProjection()}function Bn(t){t.resetSkewAndRotation()}function $n(t){t.removeLeadSnapshot()}function Dn(t,i,s){t.translate=u(i.translate,0,s),t.scale=u(i.scale,1,s),t.origin=i.origin,t.originPoint=i.originPoint}function Fn(t,i,s,n){t.min=u(i.min,s.min,n),t.max=u(i.max,s.max,n)}function In(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const jn={duration:.45,ease:[.4,0,.1,1]},On=t=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Un=On("applewebkit/")&&!On("chrome/")?Math.round:H;function Xn(t){t.min=Un(t.min),t.max=Un(t.max)}function Hn(t,i,s){return"position"===t||"preserve-aspect"===t&&(n=mn(i),o=mn(s),!(Math.abs(n-o)<=.2));var n,o}function Yn(t){return t!==t.root&&t.scroll?.wasRoot}const Nn=Sn({attachResizeListener:(t,i)=>as(t,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wn={current:void 0},zn=Sn({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wn.current){const t=new Nn({});t.mount(window),t.setOptions({layoutScroll:!0}),Wn.current=t}return Wn.current},resetTransform:(t,i)=>{t.style.transform=void 0!==i?i:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Gn={pan:{Feature:class extends es{constructor(){super(...arguments),this.removePointerDownListener=H}onPointerDown(t){this.session=new ws(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vs(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:Ds(t),onStart:Ds(i),onMove:s,onEnd:(t,i)=>{delete this.session,n&&m.postRender(()=>n(t,i))}}}mount(){this.removePointerDownListener=us(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends es{constructor(t){super(t),this.removeGroupControls=H,this.removeListeners=H,this.controls=new Bs(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||H}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:zn,MeasureLayout:Hs}};function Zn(t,i,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover","Start"===s);const o=n["onHover"+s];o&&m.postRender(()=>o(i,cs(i)))}function qn(t,i,s){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap","Start"===s);const o=n["onTap"+("End"===s?"":s)];o&&m.postRender(()=>o(i,cs(i)))}const _n=new WeakMap,Kn=new WeakMap,Jn=t=>{const i=_n.get(t.target);i&&i(t)},Qn=t=>{t.forEach(Jn)},to={some:0,all:1},io=ri({...hs,inView:{Feature:class extends es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:s,amount:n="some",once:o}=t;return function(t,i,s){const n=function({root:t,...i}){const s=t||document;Kn.has(s)||Kn.set(s,{});const n=Kn.get(s),o=JSON.stringify(i);return n[o]||(n[o]=new IntersectionObserver(Qn,{root:t,...i})),n[o]}(i);return _n.set(t,s),n.observe(t),()=>{_n.delete(t),n.unobserve(t)}}(this.node.current,{root:i?i.current:void 0,rootMargin:s,threshold:"number"==typeof n?n:to[n]},t=>{const{isIntersecting:i}=t;if(this.isInView===i)return;if(this.isInView=i,o&&!i&&this.hasEnteredView)return;i&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",i);const{onViewportEnter:s,onViewportLeave:n}=this.node.getProps(),e=i?s:n;e&&e(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(function({viewport:t={}},{viewport:i={}}={}){return s=>t[s]!==i[s]}(t,i))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends es{mount(){const{current:t}=this.node;t&&(this.unmount=_(t,(t,i)=>(qn(this.node,i,"Start"),(t,{success:i})=>qn(this.node,t,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(i){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=F(as(this.node.current,"focus",()=>this.onFocus()),as(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends es{mount(){const{current:t}=this.node;t&&(this.unmount=q(t,(t,i)=>(Zn(this.node,i,"Start"),t=>Zn(this.node,t,"End"))))}unmount(){}}},...Gn,layout:{ProjectionNode:zn,MeasureLayout:Hs}},$i);export{ut as A,io as m};
